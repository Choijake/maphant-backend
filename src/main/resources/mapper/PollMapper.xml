<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.tovelop.maphant.mapper.PollMapper">
    <insert id="insertPoll" useGeneratedKeys="true" keyProperty="id" parameterType="com.tovelop.maphant.dto.PollDTO">
        INSERT INTO poll(id, board_id, title, expire_date)
        VALUES (#{id}, #{boardId}, #{title}, #{expireDateTime});
    </insert>
    <insert id="insertPollOption">
        INSERT INTO poll_option(id, poll_id, option_name, option_cnt)
        VALUES(null, #{pollId}, #{option}, 0);
    </insert>
</mapper>